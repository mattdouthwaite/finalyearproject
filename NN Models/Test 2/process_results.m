su%need an X and a w
offset = 0.9;   % This is the virtual gnd of the mirror.
y = X*w' + b; % ground truth, actual matrix multiplication
y = y';       %transpose

y_true_false = y >= 0; %if >=0, set as 1. else set as 0.
y_analog = importfile("H:\FYP\NN Models\Test 2\results_test2_2.csv", [2, Inf]); %import the data from a file called results. Autogenerated
y_analog = y_analog(:,2)';    %get rid of first column
y_analog = y_analog - offset;   %is centred around 0.9V, this centres the values around 0.
results_true_false1 = y_analog >= 0; %if >=threshold, 1 else 0.
res = y_true_false == results_true_false1; %test. will compare
accuracy = sum(res)/200;


% results2 = importfile("H:\FYP\NN Models\Test 2\results_test2_1_v2_b.csv", [2, Inf]); %import the data from a file called results. Autogenerated
% results2 = results2(:,2)';    %get rid of first column
% results2 = results2 - offset;
% results_true_false2 = results2 >= 0; %if >=threshold, 1 else 0.
% res2 = y_true_false == results_true_false2; %test. will compare
% accuracy2 = sum(res2)/200;

scatter(y, y_analog, 'r');
%hold on;
%scatter(y, results2 + 1, 'b');
xlabel("y = X*w");
ylabel("Change from 0.9 V / V");
hold on;
